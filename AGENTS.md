# AGENTS.md - SolidStart Panda Park Starter

Repository-level guidance for contributors and coding agents.

## Quick Rules

- `app/styled-system/` is generated by Panda. Do not edit it by hand.
- Prefer SolidStart data APIs (`query` + `createAsync` for reads, server actions for writes).
- Prefer `~/components/ui/*` wrappers over route-level direct Ark composition.
- Keep reusable UI out of `app/src/routes/`; put shared code in `app/src/components/*`.
- Prefer tokenized Panda styles over one-off CSS values.

## Repo Structure

- App code: `app/src/*`
- Shared UI wrappers: `app/src/components/ui/*`
- Theme/tokens/recipes: `app/src/theme/*`
- Generated styles/types: `app/styled-system/*`
- Local reusable agent skills: `.agents/skills/*`

## Development Commands

Run from `app/` (or use `pnpm -C app <cmd>`):

- `pnpm install`
- `pnpm prepare`
- `pnpm dev`
- `pnpm type-check`
- `pnpm test`
- `pnpm build`

## Skills In This Repo

Local skills imported from the visual-notes workflow are available under `.agents/skills/`:

- `component-structure-minimal-dom`
- `post-work-doc-playbook`
- `tiptap-codeblock-stability-playbook`
- `tiptap-nodeview-migration-playbook`
- `toc-rail-layout-playbook`

Use these when the task matches the skill intent. Open each skill's `SKILL.md` before applying it.

## UI Wrapper Guidance

- For reusable overlays, prefer the simplified wrappers first:
  - `SimpleDialog`
  - `SimplePopover`
  - `SimpleSelect`
  - `PanelPopover`
  - `ConfirmDialog`
- Use `ClearButton` and `CloseButton` for consistent icon-only action affordances.
- Keep SSR and first client render structure stable for overlay-heavy controls.
- Forward wrapper props to the rendered slot that actually owns DOM/styling.

## Tooling Boosts

- Root `.mcp.json` includes Ark UI MCP server wiring for component-aware assistance.
- `app/vitest.config.ts` provides baseline testing config and `~` alias resolution.

