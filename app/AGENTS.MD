# AGENTS.md - Working in `app/`

## Quick Rules

- `app/styled-system/` is generated by Panda. Do not edit by hand.
- Reads: `query()` + `createAsync()`.
- Writes: server actions.
- Avoid `fetch()` in UI components for app data.
- Prefer `~/components/ui/*` wrappers over ad-hoc route-local composition.
- Keep reusable UI out of `app/src/routes/`.

## Commands

Run inside `app/`:

- `pnpm install`
- `pnpm prepare`
- `pnpm dev`
- `pnpm type-check`
- `pnpm test`
- `pnpm build`
- `pnpm start`

## Key Paths

- App entry: `app/src/app.tsx`
- Shared UI wrappers: `app/src/components/ui/`
- Theme + recipes: `app/src/theme/`
- Panda config: `app/panda.config.ts`

## UI Conventions

- Prefer simplified shared wrappers when they fit:
  - `SimpleDialog`
  - `SimplePopover`
  - `SimpleSelect`
  - `PanelPopover`
  - `ConfirmDialog`
- Use `ClearButton` and `CloseButton` for icon-only clear/close actions.
- Keep SSR + hydration output stable for overlay controls.
- Use Panda tokens and recipes; avoid hard-coded spacing/colors unless a token is missing.

## Data + SSR Safety

- Keep server-only logic on the server.
- Keep component render trees deterministic between server and first client render.
- For wrappers, ensure external props are forwarded to the actual rendered slot.

